<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Learning Website Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        html {
            height: 100%;
        }
        body {
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100%;
        }
        main {
            flex-grow: 1;
        }
        .textarea-input {
            width: 100%;
            height: 250px;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid #D1D5DB;
            font-family: monospace;
            font-size: 0.875rem;
            line-height: 1.5;
            color: #1F2937;
            background-color: #F9FAFB;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .textarea-input:focus {
            outline: none;
            border-color: #3B82F6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.4);
        }
        .generated-link {
            display: inline-block;
            background-color: #10B981;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        .generated-link:hover {
            background-color: #059669;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header Section -->
    <header class="bg-gradient-to-r from-blue-800 to-indigo-700 text-white shadow-lg">
        <div class="container mx-auto px-6 py-12 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">Language Learning Website Generator</h1>
            <p class="text-lg md:text-xl text-blue-200">Create a beautiful, four-page language learning website instantly. Just provide your data!</p>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <!-- Instructions Section -->
        <section id="instructions" class="bg-white p-8 rounded-xl shadow-md mb-12">
            <h2 class="text-3xl font-bold text-blue-800 mb-6 border-b-2 border-blue-200 pb-4">How It Works</h2>
            <p class="mb-4 text-gray-600">This tool generates a complete website from the data you provide. Below are four text boxes, one for each page of your future website. They are pre-filled with example data to show you the required format.</p>
            <p class="mb-6">Simply edit the content in the text boxes with your own language data, making sure to keep the same JSON structure. When you're ready, click the "Generate" button at the bottom.</p>
        </section>

        <!-- Data Input Section -->
        <section id="data-input" class="space-y-10">
            <!-- Main Page Data -->
            <div class="bg-white p-8 rounded-xl shadow-md">
                <h3 class="text-2xl font-bold text-gray-700 mb-4">1. Main Page Data (index.html)</h3>
                <p class="mb-4 text-gray-600">Provide general information about the language and an overview of the learning program.</p>
                <textarea id="mainData" class="textarea-input"></textarea>
            </div>

            <!-- Alphabet Page Data -->
            <div class="bg-white p-8 rounded-xl shadow-md">
                <h3 class="text-2xl font-bold text-gray-700 mb-4">2. Alphabet Page Data (alphabet.html)</h3>
                 <p class="mb-4 text-gray-600">Provide the letters of the alphabet, including pronunciation, examples, and categories.</p>
                <textarea id="alphabetData" class="textarea-input"></textarea>
            </div>

            <!-- Vocabulary Page Data -->
            <div class="bg-white p-8 rounded-xl shadow-md">
                <h3 class="text-2xl font-bold text-gray-700 mb-4">3. Vocabulary Page Data (vocabulary.html)</h3>
                <p class="mb-4 text-gray-600">Provide vocabulary words with pronunciation, translation, categories, and optional nuances.</p>
                <textarea id="vocabularyData" class="textarea-input"></textarea>
            </div>

            <!-- Lessons Page Data -->
            <div class="bg-white p-8 rounded-xl shadow-md">
                <h3 class="text-2xl font-bold text-gray-700 mb-4">4. Lessons Page Data (lessons.html)</h3>
                 <p class="mb-4 text-gray-600">Provide the content for your structured lessons (e.g., a 21-day program).</p>
                <textarea id="lessonsData" class="textarea-input"></textarea>
            </div>
        </section>

        <!-- Generation Button and Output -->
        <section id="generation" class="text-center py-12">
            <button onclick="generateWebsite()" class="bg-blue-600 text-white text-2xl font-bold py-4 px-10 rounded-xl hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-lg">
                üöÄ Generate My Website!
            </button>
            <div id="output" class="mt-10 flex flex-wrap justify-center gap-4"></div>
            <div id="error" class="mt-6 text-red-600 font-semibold"></div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-auto">
        <div class="container mx-auto px-6 py-8 text-center">
            <p>&copy; 2024 Language Learning Website Generator. Created with Gemini.</p>
        </div>
    </footer>

    <script>
    // This script block is placed at the end of the body to ensure all HTML elements are loaded before it runs.
    document.addEventListener('DOMContentLoaded', () => {

        // --- SECTION 1: HTML TEMPLATE FUNCTIONS ---
        // These functions take a data object and return the full HTML for a page.

        const mainTemplate = (data) => `
<!DOCTYPE html>
<html lang="${data.lang || 'en'}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${data.title}</title>
    <style>
        :root { --primary: #1e3a8a; --secondary: #c53030; --accent: #5a67d8; --light: #f7fafc; --dark: #2d3748; --background: #f0f5ff; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: var(--dark); background: var(--background); }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        header { background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; padding: 30px 0; text-align: center; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        header h1 { font-size: 2.5rem; margin-bottom: 15px; }
        .navigation { background: white; padding: 20px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 30px; }
        .nav-buttons { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
        .nav-btn { background: var(--primary); color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px; font-weight: 500; transition: all 0.3s ease; border: none; cursor: pointer; }
        .nav-btn:hover { background: var(--accent); transform: translateY(-2px); }
        .nav-btn.active { background: var(--secondary); }
        .main-content { background: white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); padding: 30px; margin-bottom: 30px; }
        .intro-section { text-align: center; margin-bottom: 40px; }
        .intro-section h2 { color: var(--primary); font-size: 2rem; margin-bottom: 20px; }
        .intro-section p { font-size: 1.1rem; max-width: 800px; margin: 0 auto 30px; }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 40px; }
        .feature-card { background: var(--light); padding: 30px; border-radius: 10px; text-align: center; transition: transform 0.3s ease; }
        .feature-card:hover { transform: translateY(-5px); }
        .feature-icon { font-size: 3rem; margin-bottom: 20px; }
        .feature-card h3 { color: var(--primary); margin-bottom: 15px; }
        footer { background: var(--primary); color: white; text-align: center; padding: 30px 0; margin-top: 50px; }
        @media (max-width: 768px) {
            .nav-buttons { flex-direction: column; align-items: center; }
            .nav-btn { width: 80%; text-align: center; }
            header h1 { font-size: 2rem; }
            .features-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>${data.header.title}</h1>
            <p>${data.header.subtitle}</p>
        </div>
    </header>
    <nav class="navigation">
        <div class="container">
            <div class="nav-buttons">
                <a href="index.html" class="nav-btn active">üè† Home</a>
                <a href="alphabet.html" class="nav-btn">üî§ Alphabet</a>
                <a href="vocabulary.html" class="nav-btn">üìö Vocabulary</a>
                <a href="lessons.html" class="nav-btn">üìÖ Lessons</a>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="main-content">
                <section class="intro-section">
                    <h2>${data.welcome.title}</h2>
                    <p>${data.welcome.text}</p>
                    <div class="features-grid">
                        ${data.features.map(feature => `
                        <div class="feature-card">
                            <div class="feature-icon">${feature.icon}</div>
                            <h3>${feature.title}</h3>
                            <p>${feature.description}</p>
                            <a href="${feature.link}" class="nav-btn" style="margin-top: 15px; display: inline-block;">${feature.buttonText}</a>
                        </div>
                        `).join('')}
                    </div>
                </section>
            </div>
        </div>
    </main>
    <footer>
        <div class="container">
            <p>${data.footer.text}</p>
        </div>
    </footer>
</body>
</html>`;

        const alphabetTemplate = (data) => `
<!DOCTYPE html>
<html lang="${data.lang || 'en'}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${data.title}</title>
    <style>
        :root { --primary: #1e3a8a; --secondary: #c53030; --accent: #5a67d8; --light: #f7fafc; --dark: #2d3748; --language-color: #c53030; --translation-color: #3182ce; --background: #f0f5ff; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: var(--dark); background: var(--background); }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
        header { background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; padding: 2rem 0; text-align: center; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        .navigation { background: white; padding: 15px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 30px; }
        .nav-buttons { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .nav-btn { background: var(--primary); color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; font-weight: 500; transition: all 0.3s ease; font-size: 0.9rem; }
        .nav-btn:hover { background: var(--accent); transform: translateY(-2px); }
        .nav-btn.active { background: var(--secondary); }
        h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
        h2 { font-size: 2rem; color: var(--primary); margin: 2rem 0 1rem; border-bottom: 2px solid var(--accent); padding-bottom: 0.5rem; }
        .alphabet-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
        .letter-card { background-color: white; border-radius: 10px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); padding: 1.5rem; transition: transform 0.3s ease, box-shadow 0.3s ease; position: relative; overflow: hidden; }
        .letter-card:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); }
        .letter-display { font-size: 3rem; font-weight: bold; color: var(--language-color); margin-bottom: 1rem; display: flex; justify-content: space-between; }
        .pronunciation { font-size: 1.2rem; color: var(--dark); font-style: italic; margin-bottom: 0.5rem; }
        .example { font-size: 1.1rem; color: var(--dark); margin-bottom: 0.5rem; }
        .word-examples { margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #e2e8f0; }
        .word-example { margin-bottom: 0.5rem; }
        .word { color: var(--language-color); font-weight: bold; }
        .word-pronunciation { color: var(--dark); font-style: italic; }
        .word-translation { color: var(--translation-color); }
        footer { background-color: var(--primary); color: white; text-align: center; padding: 2rem 0; margin-top: 3rem; }
        .section-tabs { display: flex; overflow-x: auto; margin: 2rem 0 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid #e2e8f0; }
        .section-tab { padding: 0.5rem 1rem; margin-right: 0.5rem; background-color: #e2e8f0; border-radius: 5px 5px 0 0; font-weight: 500; cursor: pointer; white-space: nowrap; }
        .section-tab.active { background-color: var(--primary); color: white; }
        .section-content { display: none; }
        .section-content.active { display: block; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>${data.pageTitle}</h1>
            <p>${data.pageSubtitle}</p>
        </div>
    </header>
    <nav class="navigation">
        <div class="container">
            <div class="nav-buttons">
                 <a href="index.html" class="nav-btn">üè† Home</a>
                <a href="alphabet.html" class="nav-btn active">üî§ Alphabet</a>
                <a href="vocabulary.html" class="nav-btn">üìö Vocabulary</a>
                <a href="lessons.html" class="nav-btn">üìÖ Lessons</a>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="section-tabs">
            <div class="section-tab active" onclick="showSection('all')">All Letters</div>
            ${Object.keys(data.categories).map(key => `
            <div class="section-tab" onclick="showSection('${key}')">${data.categories[key]}</div>
            `).join('')}
        </div>
        
        <section id="all" class="section-content active">
            <h2>The Complete Alphabet</h2>
            <div class="alphabet-grid">
            ${data.letters.map(letter => `
                <div class="letter-card" style="border-left: 4px solid ${letter.categoryColor || '#5a67d8'};">
                    <div class="letter-display">
                        <span>${letter.upper}</span>
                        <span>${letter.lower}</span>
                    </div>
                    <div class="pronunciation">${letter.pronunciation}</div>
                    <div class="example">${letter.example}</div>
                    ${letter.words ? `
                    <div class="word-examples">
                        ${letter.words.map(word => `
                        <div class="word-example">
                            <span class="word">${word.word}</span>
                            <span class="word-pronunciation">${word.pronunciation}</span>
                            <span class="word-translation">- ${word.translation}</span>
                        </div>
                        `).join('')}
                    </div>
                    ` : ''}
                </div>`).join('')}
            </div>
        </section>

        ${Object.keys(data.categories).map(key => `
        <section id="${key}" class="section-content">
            <h2>${data.categories[key]}</h2>
            <div class="alphabet-grid">
            ${data.letters.filter(l => l.category === key).map(letter => `
                <div class="letter-card" style="border-left: 4px solid ${letter.categoryColor || '#5a67d8'};">
                    <div class="letter-display">
                        <span>${letter.upper}</span>
                        <span>${letter.lower}</span>
                    </div>
                    <div class="pronunciation">${letter.pronunciation}</div>
                    <div class="example">${letter.example}</div>
                    ${letter.words ? `
                    <div class="word-examples">
                        ${letter.words.map(word => `
                        <div class="word-example">
                            <span class="word">${word.word}</span>
                            <span class="word-pronunciation">${word.pronunciation}</span>
                            <span class="word-translation">- ${word.translation}</span>
                        </div>
                        `).join('')}
                    </div>
                    ` : ''}
                </div>`).join('')}
            </div>
        </section>
        `).join('')}
    </div>
    <footer><div class="container"><p>${data.footerText}</p></div></footer>
    <script>
        function showSection(sectionId) {
            document.querySelectorAll('.section-content').forEach(s => s.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            document.querySelectorAll('.section-tab').forEach(t => t.classList.remove('active'));
            document.querySelector('.section-tab[onclick="showSection(\''+sectionId+'\')]').classList.add('active');
        }
    </script>
</body>
</html>`;

        const vocabularyTemplate = (data) => `
<!DOCTYPE html>
<html lang="${data.lang || 'en'}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${data.title}</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #1e3a8a; --secondary: #c53030; --accent: #5a67d8; --light: #f7fafc; --dark: #2d3748; --language-color: #c53030; --translation-color: #3182ce; --background: #f0f5ff; --card-bg: #ffffff; --shadow: 0 4px 6px rgba(0, 0, 0, 0.1); --hover-shadow: 0 8px 15px rgba(0, 0, 0, 0.2); --border-radius: 8px; --transition: all 0.3s ease; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', 'Segoe UI', sans-serif; line-height: 1.6; color: var(--dark); background: var(--background); }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        header { background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; padding: 30px 0; box-shadow: var(--shadow); }
        header h1 { font-size: 2.5rem; text-align: center; margin-bottom: 15px; }
        .navigation { background: white; padding: 15px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 30px; }
        .nav-buttons { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .nav-btn { background: var(--primary); color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; font-weight: 500; transition: all 0.3s ease; font-size: 0.9rem; }
        .nav-btn:hover { background: var(--accent); transform: translateY(-2px); }
        .nav-btn.active { background: var(--secondary); }
        .search-container { margin: 20px 0; display: flex; justify-content: center; }
        .search-box { width: 80%; max-width: 500px; padding: 12px 20px; border: 2px solid var(--primary); border-radius: 30px; font-size: 1rem; outline: none; transition: var(--transition); background-color: var(--card-bg); color: var(--dark); }
        .search-box:focus { box-shadow: 0 0 0 3px rgba(90, 103, 216, 0.3); }
        .category-filters { display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0; justify-content: center; }
        .category-filter { padding: 8px 16px; background: var(--light); border: none; border-radius: 20px; cursor: pointer; font-size: 0.9rem; transition: var(--transition); color: var(--dark); }
        .category-filter:hover { background: var(--accent); color: white; }
        .category-filter.active { background: var(--primary); color: white; }
        .vocab-container { margin-top: 30px; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .vocab-card { background: var(--card-bg); border-radius: var(--border-radius); box-shadow: var(--shadow); overflow: hidden; transition: var(--transition); display: flex; flex-direction: column; }
        .vocab-card:hover { transform: translateY(-5px); box-shadow: var(--hover-shadow); }
        .card-body { padding: 20px; flex-grow: 1; }
        .language-word { font-size: 1.8rem; color: var(--language-color); margin-bottom: 10px; font-weight: 700; font-family: 'Noto Sans', sans-serif; }
        .pronunciation { font-style: italic; color: var(--dark); margin-bottom: 15px; font-size: 1.1rem; }
        .translation { font-size: 1.3rem; color: var(--translation-color); margin-bottom: 20px; font-weight: 500; padding-top: 10px; border-top: 1px solid rgba(0,0,0,0.1); }
        .category-tag { background: var(--accent); color: white; padding: 3px 8px; border-radius: 12px; font-size: 0.8rem; display: inline-block; margin-right: 5px; margin-bottom: 5px; }
        .nuance { margin-top: 15px; padding: 10px; background: #eef2ff; border-left: 3px solid #6366f1; border-radius: 4px; font-size: 0.9rem; }
    </style>
</head>
<body>
    <header><div class="container"><h1>${data.header.title}</h1></div></header>
    <nav class="navigation">
        <div class="container">
            <div class="nav-buttons">
                <a href="index.html" class="nav-btn">üè† Home</a>
                <a href="alphabet.html" class="nav-btn">üî§ Alphabet</a>
                <a href="vocabulary.html" class="nav-btn active">üìö Vocabulary</a>
                <a href="lessons.html" class="nav-btn">üìÖ Lessons</a>
            </div>
        </div>
    </nav>
    <main><div class="container">
        <div class="search-container"><input type="text" class="search-box" id="vocab-search" placeholder="Search for a word..."></div>
        <div class="category-filters" id="category-filters">
            <button class="category-filter active" data-category="all">All</button>
            ${Object.keys(data.categories).map(cat => `<button class="category-filter" data-category="${cat}">${data.categories[cat]}</button>`).join('')}
        </div>
        <div class="vocab-container" id="vocab-container"></div>
    </div></main>
    <script>
        const vocabulary = ${JSON.stringify(data.words, null, 2)};
        const categories = ${JSON.stringify(data.categories, null, 2)};
        const vocabContainer = document.getElementById('vocab-container');
        const searchInput = document.getElementById('vocab-search');
        const filtersContainer = document.getElementById('category-filters');
        let activeCategory = 'all';

        function displayWords(wordsToDisplay) {
            vocabContainer.innerHTML = '';
            wordsToDisplay.forEach(word => {
                const card = document.createElement('div');
                card.className = 'vocab-card';
                card.innerHTML = \`
                    <div class="card-body">
                        <div class="language-word">\${word.term}</div>
                        \${word.pronunciation ? \`<div class="pronunciation">[\${word.pronunciation}]</div>\` : ''}
                        <div class="translation">\${word.translation}</div>
                        <div>\${word.categories.map(cat => \`<span class="category-tag">${categories[cat] || cat}</span>\`).join('')}</div>
                        \${word.nuance ? \`<div class="nuance"><strong>Nuance:</strong> \${word.nuance}</div>\` : ''}
                    </div>
                \`;
                vocabContainer.appendChild(card);
            });
        }

        function filterAndDisplay() {
            const searchTerm = searchInput.value.toLowerCase();
            let filteredWords = vocabulary;

            if (activeCategory !== 'all') {
                filteredWords = filteredWords.filter(word => word.categories.includes(activeCategory));
            }

            if (searchTerm) {
                filteredWords = filteredWords.filter(word => 
                    word.term.toLowerCase().includes(searchTerm) || 
                    word.translation.toLowerCase().includes(searchTerm)
                );
            }
            displayWords(filteredWords);
        }

        searchInput.addEventListener('input', filterAndDisplay);
        filtersContainer.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                document.querySelector('.category-filter.active').classList.remove('active');
                e.target.classList.add('active');
                activeCategory = e.target.dataset.category;
                filterAndDisplay();
            }
        });

        displayWords(vocabulary);
    </script>
</body>
</html>`;

        const lessonsTemplate = (data) => `
<!DOCTYPE html>
<html lang="${data.lang || 'en'}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${data.title}</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #1e3a8a; --secondary: #c53030; --accent: #5a67d8; --light: #f7fafc; --dark: #2d3748; --success: #38a169; --warning: #d69e2e; --info: #3182ce; --language-color: #c53030; --translation-color: #3182ce; --bg-primary: #ffffff; --bg-secondary: #f8fafc; --text-primary: #2d3748; --border-color: #e2e8f0; --header-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; line-height: 1.6; color: var(--text-primary); background: #f0f5ff; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        header { background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; padding: 30px 0; text-align: center; box-shadow: var(--header-shadow); }
        header h1 { font-size: 2.5rem; }
        .navigation { background: white; padding: 15px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 30px; }
        .nav-buttons { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .nav-btn { background: var(--primary); color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; font-weight: 500; transition: all 0.3s ease; }
        .nav-btn:hover { background: var(--accent); transform: translateY(-2px); }
        .nav-btn.active { background: var(--secondary); }
        .content-wrapper { display: flex; gap: 30px; }
        .sidebar-nav { width: 280px; flex-shrink: 0; position: sticky; top: 20px; align-self: flex-start; }
        .sidebar-nav h3 { color: var(--primary); margin-bottom: 15px; font-size: 1.2rem; }
        .sidebar-day-list { list-style: none; background: var(--bg-primary); border-radius: 8px; box-shadow: var(--header-shadow); overflow: hidden; }
        .sidebar-day-btn { display: block; width: 100%; padding: 12px 20px; text-align: left; background: transparent; border: none; cursor: pointer; font-size: 1rem; color: var(--text-primary); transition: all 0.3s ease; border-bottom: 1px solid var(--border-color); }
        .sidebar-day-btn:hover { background: #eef2ff; }
        .sidebar-day-btn.active { background: var(--accent); color: white; font-weight: 600; }
        .main-content { flex-grow: 1; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .card { background: var(--bg-primary); border-radius: 12px; box-shadow: var(--header-shadow); margin-bottom: 30px; overflow: hidden; }
        .card-header { padding: 20px; background: var(--primary); color: white; }
        .card-header h2 { font-size: 1.5rem; }
        .card-body { padding: 25px; }
        .section-title { font-size: 1.25rem; color: var(--primary); margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid var(--accent); }
        .note-box { background: #e6fffa; border-left: 4px solid var(--info); padding: 15px; border-radius: 8px; margin-top: 15px; }
        .vocab-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px; margin-top: 15px; }
        .vocab-item { background: var(--bg-secondary); padding: 15px; border-radius: 8px; border-left: 4px solid var(--accent); }
        .term { font-weight: bold; color: var(--language-color); }
        .dialogue-box { background: #f8f9fa; border: 1px solid var(--border-color); border-radius: 8px; padding: 15px; margin-top: 15px; }
        .dialogue-line { margin-bottom: 12px; }
        .speaker { font-weight: bold; }
        .language-text { color: var(--language-color); }
        .translation-text { color: var(--translation-color); font-style: italic; font-size: 0.95em; }
        @media (max-width: 900px) {
            .content-wrapper { flex-direction: column; }
            .sidebar-nav { position: static; width: 100%; }
        }
    </style>
</head>
<body>
    <header><div class="container"><h1>${data.header.title}</h1></div></header>
    <nav class="navigation">
        <div class="container">
            <div class="nav-buttons">
                <a href="index.html" class="nav-btn">üè† Home</a>
                <a href="alphabet.html" class="nav-btn">üî§ Alphabet</a>
                <a href="vocabulary.html" class="nav-btn">üìö Vocabulary</a>
                <a href="lessons.html" class="nav-btn active">üìÖ Lessons</a>
            </div>
        </div>
    </nav>
    <div class="container content-wrapper">
        <nav class="sidebar-nav">
            <h3>${data.sidebarTitle}</h3>
            <ul class="sidebar-day-list" id="sidebar-nav">
                ${data.lessons.map((lesson, index) => `
                <li><button class="sidebar-day-btn ${index === 0 ? 'active' : ''}" data-day="${index + 1}" onclick="openTab('day${index + 1}')">${lesson.title}</button></li>
                `).join('')}
            </ul>
        </nav>
        <main class="main-content" id="main-content">
            ${data.lessons.map((lesson, index) => `
            <div id="day${index + 1}" class="tab-content ${index === 0 ? 'active' : ''}">
                <div class="card">
                    <div class="card-header"><h2>${lesson.title}</h2></div>
                    <div class="card-body">
                        ${lesson.sections.map(section => `
                        <div class="section mb-6">
                            <h3 class="section-title">${section.title}</h3>
                            <div class="text-gray-700 space-y-4">
                                ${section.content.map(item => {
                                    switch(item.type) {
                                        case 'paragraph':
                                            return `<p>${item.text}</p>`;
                                        case 'vocab-list':
                                            return `<div class="vocab-list">${item.items.map(v => `<div class="vocab-item"><span class="term">${v.term}</span>: <span class="translation-color">${v.translation}</span></div>`).join('')}</div>`;
                                        case 'dialogue':
                                            return `<div class="dialogue-box">${item.lines.map(l => `<div class="dialogue-line"><span class="speaker">${l.speaker}:</span> <span class="language-text">${l.text}</span><br><span class="translation-text">${l.translation}</span></div>`).join('')}</div>`;
                                        case 'note':
                                            return `<div class="note-box">${item.text}</div>`;
                                        default:
                                            return '';
                                    }
                                }).join('')}
                            </div>
                        </div>`).join('')}
                    </div>
                </div>
            </div>`).join('')}
        </main>
    </div>
    <script>
        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            document.querySelectorAll('.sidebar-day-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.sidebar-day-btn[data-day="' + tabName.replace('day', '') + '"]').classList.add('active');
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
    </script>
</body>
</html>`;

        // --- SECTION 2: EXAMPLE DATA ---
        // This object holds the example JSON data for each page.
        const examples = {
            mainData: `{
  "lang": "en",
  "title": "Learn MyLanguage - Complete Guide",
  "header": {
    "title": "Learn MyLanguage",
    "subtitle": "Your complete guide to mastering the MyLanguage language"
  },
  "welcome": {
    "title": "Welcome to your MyLanguage adventure!",
    "text": "Discover the richness of the MyLanguage language through our progressive and interactive method. From the alphabet to common conversations, we will guide you at every step of your learning journey."
  },
  "features": [
    { "icon": "üî§", "title": "Alphabet", "description": "Master the letters of the MyLanguage alphabet with our interactive guide.", "link": "alphabet.html", "buttonText": "Start" },
    { "icon": "üìö", "title": "Essential Vocabulary", "description": "Over 300 words categorized by theme with pronunciation and translation.", "link": "vocabulary.html", "buttonText": "Explore" },
    { "icon": "üìÖ", "title": "Lessons Program", "description": "A structured path to acquire the basics in a few weeks.", "link": "lessons.html", "buttonText": "Discover" }
  ],
  "footer": {
    "text": "&copy; 2024 Learn MyLanguage - Created by You!"
  }
}`,
            alphabetData: `{
    "lang": "en",
    "title": "The MyLanguage Alphabet",
    "pageTitle": "The MyLanguage Alphabet",
    "pageSubtitle": "A simple guide to learning the script",
    "categories": {
        "similar": "Similar Letters",
        "trap": "Trap Letters",
        "unique": "Unique Letters"
    },
    "letters": [
        { "upper": "A", "lower": "a", "pronunciation": "[a]", "example": "like in 'father'", "category": "similar", "categoryColor": "#38a169", "words": [{ "word": "ana", "pronunciation": "[ana]", "translation": "apple"}] },
        { "upper": "B", "lower": "b", "pronunciation": "[v]", "example": "like in 'vine' (looks like latin B)", "category": "trap", "categoryColor": "#e53e3e" },
        { "upper": "–ë", "lower": "–±", "pronunciation": "[b]", "example": "like in 'bat'", "category": "unique", "categoryColor": "#d69e2e" }
    ],
    "footerText": "Guide to learning the MyLanguage alphabet."
}`,
            vocabularyData: `{
    "lang": "en",
    "title": "MyLanguage Vocabulary",
    "header": { "title": "MyLanguage Vocabulary" },
    "categories": {
        "greetings": "Greetings",
        "food": "Food",
        "travel": "Travel"
    },
    "words": [
        { "term": "Privet", "pronunciation": "pree-vyet", "translation": "Hello (informal)", "categories": ["greetings"] },
        { "term": "Yabloko", "pronunciation": "yab-lo-ko", "translation": "Apple", "categories": ["food"] },
        { "term": "Poyezd", "pronunciation": "po-yezd", "translation": "Train", "categories": ["travel"], "nuance": "Refers to a long-distance train." }
    ]
}`,
            lessonsData: `{
    "lang": "en",
    "title": "MyLanguage Lessons",
    "header": { "title": "MyLanguage Lessons Program" },
    "sidebarTitle": "Lesson Plan",
    "lessons": [
        {
            "title": "Day 1: First Steps",
            "sections": [
                {
                    "title": "Objective of the Day",
                    "content": [{ "type": "paragraph", "text": "Learn the first 5 letters and basic greetings." }]
                },
                {
                    "title": "Vocabulary",
                    "content": [
                        { "type": "vocab-list", "items": [
                            { "term": "Zdrast", "translation": "Hello (formal)" },
                            { "term": "Poka", "translation": "Bye" }
                        ]}
                    ]
                },
                {
                    "title": "Dialogue Practice",
                    "content": [
                        { "type": "dialogue", "lines": [
                            { "speaker": "A", "text": "Zdrast!", "translation": "Hello!" },
                            { "speaker": "B", "text": "Zdrast!", "translation": "Hello!" }
                        ]}
                    ]
                }
            ]
        }
    ]
}`
        };
        
        // --- SECTION 3: PAGE INITIALIZATION ---
        // This function populates the textareas with the example data.
        function initializePage() {
            document.getElementById('mainData').value = JSON.stringify(JSON.parse(examples.mainData), null, 2);
            document.getElementById('alphabetData').value = JSON.stringify(JSON.parse(examples.alphabetData), null, 2);
            document.getElementById('vocabularyData').value = JSON.stringify(JSON.parse(examples.vocabularyData), null, 2);
            document.getElementById('lessonsData').value = JSON.stringify(JSON.parse(examples.lessonsData), null, 2);
        }
        
        // Call the initialization function.
        initializePage();


        // --- SECTION 4: WEBSITE GENERATION ---
        // This function is attached to the button's onclick event.
        window.generateWebsite = function() {
            const outputDiv = document.getElementById('output');
            const errorDiv = document.getElementById('error');
            outputDiv.innerHTML = '';
            errorDiv.innerHTML = '';

            try {
                // Parse data from textareas
                const mainData = JSON.parse(document.getElementById('mainData').value);
                const alphabetData = JSON.parse(document.getElementById('alphabetData').value);
                const vocabularyData = JSON.parse(document.getElementById('vocabularyData').value);
                const lessonsData = JSON.parse(document.getElementById('lessonsData').value);

                // Generate HTML content from templates
                const files = {
                    'index.html': mainTemplate(mainData),
                    'alphabet.html': alphabetTemplate(alphabetData),
                    'vocabulary.html': vocabularyTemplate(vocabularyData),
                    'lessons.html': lessonsTemplate(lessonsData)
                };

                // Create and display download links
                for (const [filename, content] of Object.entries(files)) {
                    const blob = new Blob([content], { type: 'text/html' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = filename;
                    a.textContent = `Download ${filename}`;
                    a.className = 'generated-link mx-2 my-2';
                    outputDiv.appendChild(a);
                }

            } catch (e) {
                console.error(e);
                errorDiv.textContent = 'Error: Could not generate files. Please ensure your data is in the correct JSON format in all four text boxes. Error details: ' + e.message;
            }
        }
    });
    </script>
</body>
</html>
